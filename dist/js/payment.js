"use strict";window.onload=function(){$(".hassub").on({mouseenter:function(){$(".head_section3_nav_div").eq($(this).index()-1).css("display","block")},mouseleave:function(){$(".head_section3_nav_div").css("display","none")}}),$(".head_section3_nav_div").on({mouseover:function(){$(this).css("display","block")},mouseout:function(){$(this).css("display","none")}}),function l(){var d=JSON.parse(localStorage.getItem("cartList"));d?(r(),n()):alert("购物车为空！");function r(){var n=d.every(function(n){return!0===n.isSelect}),t="",e="",a="";a='<label><input type="checkbox" id="check-goods-all" '.concat(n?"checked":"",' /><span id="checkAll">全选</span></label>'),$(".col_all").html(a),d.forEach(function(n){t+='\n                <div class="shop_box">\n                    <label class="shop_all"><input data-id='.concat(n.id,' type="checkbox" id="check-goods-alone"  ').concat(n.isSelect?"checked":"",' /></label>\n                    <div class="shop_img">\n                        <img src="').concat(n.mi[0].MaxImg,'" alt="" width="100%" height="100%">\n                    </div>\n                    <div class="shop_name">\n                        <p style="font-size: 15px;">').concat(n.Title2,'</p>\n                    </div>\n                    <div class="shop_money">\n                        <p>¥<span class="money_span">').concat(n.Bmoney,'</span></p>\n                    </div>\n                    <div class="shop_num">\n                        <input class="shop_num_add" type="button" value="+" data-id=').concat(n.id,'>\n                        <input class="shop_num_number" type="text" name="" id="" value="').concat(n.number,'" disabled="value">\n                        <input class="shop_num_reduce" type="button" value="-" data-id=').concat(n.id,'>\n                    </div>\n                    <div class="shop_money2">\n                        <p>¥<span class="money_span2">').concat(n.Allmoney,'</span></p>\n                    </div>\n                    <div class="shop_delect">\n                        <input class="shop_delect_d" type="button" value="删除" data-id=').concat(n.id,">\n                    </div>\n                </div>\n                ")}),$("#shop_wrap").html(t);var o=d.filter(function(n){return n.isSelect}),c=0,s=0;o.forEach(function(n){c+=n.number,s+=1*n.Allmoney}),e+='\n            <div class="shop_choose">\n                <p>商品数量：<span class="shop_choose_num">'.concat(c,'</span></p>\n            </div>\n            <div class="shop_Allmoney">\n                <p>总价格：¥<span class="shop_Allmoney_num">').concat(s,'</span></p>\n            </div>\n            <div class="shop_empty">\n                <input class="delect_all" type="button" value="清空购物车">\n            </div>\n            <div class="shop_pay">\n                <input type="button" value="支付" ').concat(o.length?"":"disabled",">\n            </div>\n            "),$(".main_box3").html(e)}function n(){$("body").on("change","#check-goods-all",function(){var t=this;d.forEach(function(n){n.isSelect=t.checked}),r(),localStorage.setItem("cartList",JSON.stringify(d))}),$("body").on("change","#check-goods-alone",function(){var t=$(this).data("id");d.forEach(function(n){n.id==t&&(n.isSelect=!n.isSelect)}),r(),localStorage.setItem("cartList",JSON.stringify(d))}),$("body").on("click",".shop_num_reduce",function(){var t=$(this).data("id");d.forEach(function(n){n.id==t&&(1<n.number&&n.number--,n.Allmoney=n.Bmoney*n.number)}),r(),localStorage.setItem("cartList",JSON.stringify(d))}),$("body").on("click",".shop_num_add",function(){var t=$(this).data("id");d.forEach(function(n){n.id==t&&(n.number++,n.Allmoney=n.Bmoney*n.number)}),r(),localStorage.setItem("cartList",JSON.stringify(d))}),$("body").on("click",".shop_delect_d",function(){var n=$(this).data("id"),t=!0,e=!1,a=void 0;try{for(var o,c=d[Symbol.iterator]();!(t=(o=c.next()).done);t=!0){var s=o.value;if(s.id==n){var i=JSON.parse(localStorage.getItem("cartList"));i.splice(s.index,1),console.log(i);break}}}catch(n){e=!0,a=n}finally{try{t||null==c.return||c.return()}finally{if(e)throw a}}r(),localStorage.setItem("cartList",JSON.stringify(i)),l()}),$("body").on("click",".delect_all",function(){console.log("1");var n=JSON.parse(localStorage.getItem("cartList"));n.splice(0),r(),localStorage.setItem("cartList",JSON.stringify(n)),l()})}}()};