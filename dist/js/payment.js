"use strict";window.onload=function(){$(".hassub").on({mouseenter:function(){$(".head_section3_nav_div").eq($(this).index()-1).css("display","block")},mouseleave:function(){$(".head_section3_nav_div").css("display","none")}}),$(".head_section3_nav_div").on({mouseover:function(){$(this).css("display","block")},mouseout:function(){$(this).css("display","none")}}),function t(){var i=JSON.parse(localStorage.getItem("cartList"));i?(c(),n()):alert("购物车为空！");function c(){var n=i.every(function(n){return!0===n.isSelect}),t="",c="",o="";o='<label><input type="checkbox" id="check-goods-all" '.concat(n?"checked":"",' /><span id="checkAll">全选</span></label>'),$(".col_all").html(o),i.forEach(function(n){t+='\n                <div class="shop_box">\n                    <label class="shop_all"><input data-id='.concat(n.id,' type="checkbox" id="check-goods-alone"  ').concat(n.isSelect?"checked":"",' /></label>\n                    <div class="shop_img">\n                        <img src="').concat(n.mi[0].MaxImg,'" alt="" width="100%" height="100%">\n                    </div>\n                    <div class="shop_name">\n                        <p style="font-size: 15px;">').concat(n.Title2,'</p>\n                    </div>\n                    <div class="shop_money">\n                        <p>¥<span class="money_span">').concat(n.Bmoney,'</span></p>\n                    </div>\n                    <div class="shop_num">\n                        <input class="shop_num_add" type="button" value="+" data-id=').concat(n.id,'>\n                        <input class="shop_num_number" type="text" name="" id="" value="').concat(n.number,'" disabled="value">\n                        <input class="shop_num_reduce" type="button" value="-" data-id=').concat(n.id,'>\n                    </div>\n                    <div class="shop_money2">\n                        <p>¥<span class="money_span2">').concat(n.Allmoney,'</span></p>\n                    </div>\n                    <div class="shop_delect">\n                        <input class="shop_delect_d" type="button" value="删除" data-id=').concat(n.id,">\n                    </div>\n                </div>\n                ")}),$("#shop_wrap").html(t);var e=i.filter(function(n){return n.isSelect}),a=0,s=0;e.forEach(function(n){a+=n.number,s+=1*n.Allmoney}),c+='\n            <div class="shop_choose">\n                <p>商品数量：<span class="shop_choose_num">'.concat(a,'</span></p>\n            </div>\n            <div class="shop_Allmoney">\n                <p>总价格：¥<span class="shop_Allmoney_num">').concat(s,'</span></p>\n            </div>\n            <div class="shop_empty">\n                <input class="delect_all" type="button" value="清空购物车">\n            </div>\n            <div class="shop_pay">\n                <input type="button" value="支付" ').concat(e.length?"":"disabled",">\n            </div>\n            "),$(".main_box3").html(c)}function n(){$("body").on("change","#check-goods-all",function(){var t=this;i.forEach(function(n){n.isSelect=t.checked}),c(),localStorage.setItem("cartList",JSON.stringify(i))}),$("body").on("change","#check-goods-alone",function(){var t=$(this).data("id");i.forEach(function(n){n.id==t&&(n.isSelect=!n.isSelect)}),c(),localStorage.setItem("cartList",JSON.stringify(i))}),$("body").on("click",".shop_num_reduce",function(){var t=$(this).data("id");i.forEach(function(n){n.id==t&&(1<n.number&&n.number--,n.Allmoney=n.Bmoney*n.number)}),c(),localStorage.setItem("cartList",JSON.stringify(i))}),$("body").on("click",".shop_num_add",function(){var t=$(this).data("id");i.forEach(function(n){n.id==t&&(n.number++,n.Allmoney=n.Bmoney*n.number)}),c(),localStorage.setItem("cartList",JSON.stringify(i))}),$("body").on("click",".shop_delect_d",function(){var t=$(this).data("id");i.forEach(function(n){n.id==t&&i.splice(n.index,1)}),c(),localStorage.setItem("cartList",JSON.stringify(i))}),$("body").on("click",".delect_all",function(){console.log("1");var n=JSON.parse(localStorage.getItem("cartList"));n.splice(0),c(),localStorage.setItem("cartList",JSON.stringify(n)),t()})}}()};